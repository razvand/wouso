{% extends 'interface/section_base.html' %}

{% load i18n %}

{% block title %}
	{{ quiz }}
	<small>[{{ quiz.qtype }} {% trans 'Quiz ' %}]</small>
{% endblock %}

{% block sectioncontent %}

<div id="timer" class="timer">
	time left
</div>

<form action="{% url quiz_view quiz.id %}" method="post" id="quiz-form" class="quiz">
	<ol>
		{% for field in form.visible_fields %}
		<li>
			<div class="question">
				{% autoescape off %}
					{{ field.label }}
				{% endautoescape %}
			</div>
		</li>
		<div class="answers">
			{% for choice in field.field.choices %}
				{% autoescape off %}

				<div class="radio">
					<label>
						<input type="radio" name="{{ field.html_name }}" value="{{ choice.0 }}" id="{{ field.html_name }}_{{ choice.0 }}" />
						{{ choice.1 }}
					</label>
				</div>

				{% endautoescape %}
			{% endfor %}
		</div>
		{% endfor %}
	</ol>
	{% csrf_token %}
	<hr>
	<div class="actions">
		<button type="submit" class="btn btn-success">{% trans 'Submit' %}</button>
	</div>
</form>

<script language="javascript">
	window.addEventListener('load', function() {
		StartTimer('timer', 'quiz-form', {{ seconds_left }});
	});
</script>

{% endblock %}

{% block scripts %}

		<!--
		<script type="text/javascript">
			// To use in case you need to dinamically load MathJax after the page has loaded.
			// See examples here: http://cdn.mathjax.org/mathjax/latest/test/examples.html
			window.onload = function () {
				var script = document.createElement("script");
				script.type = "text/javascript";
				script.src = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML";
				document.getElementsByTagName("head")[0].appendChild(script);
			}
			// The next line may be used instead of the above function. Uncomment it if you want to use it.
			//MathJax.Hub.Queue(["Typeset",MathJax.Hub]);
		</script>
		-->


	<script type="text/javascript" src="{{ basepath }}/static/js/timer.js"></script>
	<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
{% endblock %}
